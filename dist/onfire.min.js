!function(n,e){"object"==typeof module&&module.exports?module.exports=e(n):n.onfire=e(n)}("undefined"!=typeof window?window:this,function(){function n(n,e,t){if("string"!=typeof n||"function"!=typeof e)throw new Error("args must be (string, function).");c[n]||(c[n]={});var r="e"+ ++l;return c[n][r]=[e,t],[n,r]}function e(e,t){return n(e,t,!1)}function t(e,t){return n(e,t,!0)}function r(n){var e,t;if(c[n])for(t in c[n])e=c[n][t],e[0].apply(null,Array.prototype.slice.call(arguments,1)),e[1]&&delete c[n][t]}function o(n){if("string"==typeof n)return!!c[n]&&(delete c[n],!0);if("object"==typeof n){var e=n[0],t=n[1];return!(!c[e]||!c[e][t])&&(delete c[e][t],!0)}}function i(){c={}}function u(){var n,e=[];for(n in c)e.push(n);return e}function f(){return u().length}var c={},l=0;return{on:e,one:t,un:o,fire:r,size:f,clear:i,events:u}});