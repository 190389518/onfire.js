!function(n,t){"object"==typeof module&&module.exports?module.exports=t(n):n.onfire=t(n)}("undefined"!=typeof window?window:this,function(){function n(n,t){return n.hasOwnProperty(t)}function t(t,e,r,o){if("string"!=typeof t||"function"!=typeof e)throw new Error("args must be (string, function).");n(c,t)||(c[t]={});var f="e"+ ++p;return c[t][f]=[e,r,o],[t,f]}function e(t,e){var r;for(r in t)n(t,r)&&e(r,t[r])}function r(n,e,r){return t(n,e,0,r)}function o(n,e,r){return t(n,e,1,r)}function f(t){var r=Array.prototype.slice.call(arguments,1);n(c,t)&&e(c[t],function(n,e){e[0].apply(e[2],r),e[1]&&delete c[t][n]})}function i(t){var r,o;if("string"==typeof t)return n(c,t)?(delete c[t],a):l;if("object"==typeof t)return r=t[0],o=t[1],n(c,r)&&n(c[r],o)?(delete c[r][o],a):l;if("function"==typeof t){var f=l;return e(c,function(n,r){e(r,function(e,r){r[0]===t&&(delete c[n][e],f=a)})}),f}return l}function u(){c={}}var c={},p=0,a=!0,l=!1;return{on:r,one:o,un:i,fire:f,clear:u}});